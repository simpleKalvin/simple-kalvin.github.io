+++
title = '简介'
date = 2024-03-26T22:44:39+08:00
draft = false
+++
# 
**擅长：** PHP后端开发/组长、Golang开发

## 专业技能

#### 基础：

- 熟练使用Thinkphp与laravel等PHP框架,深入了解过laravel框架原理.

- 掌握PHP的OOP,AOP思想，使用PHP设计模式开发(ico/di,策略模式,观察者模式,适配器等)

- 掌握linux常用命令,LNMP项目环境部署,NFS的配置等操作

- 掌握php的内存管理 , GC垃圾回收机制

- 熟练composer,写过laravel私有库的包

- 有gitlab / github管理相关经验

- 熟练使用HTML CSS Js JQ网页开发,使用bootstrap layUI等前端框架.

- 了解Python并在项目中开发环节应用

- 了解clickhouse大数据管理系统的使用

- 了解 golang基本使用，包括但不限于GPM、三色染色法GC等

- 了解golang pkg，如gin，viper，wire，protobuf，docker，websocket等包的基本使用

- 掌握docker基础命令， 并能手写docker-compose、DockerFile配置

#### 高级：

- 熟悉PHP底层实现，如数组，内存分配，GC，FPM原理
- 熟悉PHP高级扩展swoole，熟练使用hypref并了解框架源码
- 熟悉Mysql数据库,可写和优化sql语句,了解MYSQL,redis读写分离
- 熟悉服务器优化与项目结构分拆相关经验
- 了解队列系统, 使用kafka与rabbitmq处理日志、下单等业务场景
- 了解多服务器协同,负载均衡,微服务化
- 了解基于Linux网络底层IO模型
- 了解DDD(领域驱动设计)高级编程思想
- 了解elasticsearch 高级布式搜索和分析引擎
- 了解事件风暴
- 了解kong网关使用
- 了解mongodb基本使用
- 了解beego关于ORM、路由、中间件源码及基础实现
- 了解GIN基础实现
- 了解golang组合模式及在业务中使用
- 了解golang泛型及在业务中使用
- 了解基于golang的TDD(测试驱动开发含单元与集成)并在业务中使用
- 了解golang pprof 内存分析工具 排查并处理过 项目内存泄露问题
- 了解k8shelm，prometheus等工具使用和配置
- 了解DevOps思想
- 了解部署一整套系统从程序编译，测试，发布，部署，监控



## 工作经历

**广州人瑞科技-SHEIN项目组** 【主开发】 2023年03月 - 至今

**广州大蓝网络科技有限公司** 【PHP开发】 2021年08月 - 2022年10月

**广东灵机文化传播有限公司** 【后端组长】2019年02月-2021年07月

**广东智应网络科技有限公司** 【后端组长】 2017年03月-2019年02月



## 项目经验

#### 尺寸表、工艺单、纸样项目【SHEIN】

php开发                                                                                                            

担任尺寸表、尺寸表模板、工艺单与纸样三个主要生产资料的主开发，后端的技术方案制定，CAD软件对接，  项目风险点，需求范围排查。

1. 尺寸表改造范围，多系统协调开发顺序依赖。上线刷数方案与同步方案的制定。旧逻辑流程图梳理，ER梳理，分配技术任务。

2. 工艺单数据结构规划。新版本工艺单自动升级功能编写。工艺款式库搭建，工艺单二期工艺参数化构建。

3. 纸样相关CAD软件对接，打通尺寸表、纸样、CAD软件、用量、自动排料对接。复色项目继承等。



#### socket日志上报【大蓝】

golang开发                                                                                                                  

**背景**

完成监控项目从0到1整体流程，基于gin+websocket+viper实现，旧服务使用swoole1.1运行，突然导量导致服务器卡死，无法ssh，临时先迁移流量改用短链接提交日志，后续逐步导流量进来，并增加了服务端触达客户端，包括踢下线，单播，跑马灯广播等功能

1. 完成项目基础搭建，使用gin+gorilla/websocket+viper项目基础

2. 完成项目基于uuid生成客户端句柄，uuid+*client+map绑定达到客户端，并使用map作为分组载体，实现业务与客户的绑定关系，实现单播与广播功能

3. 服务内使用channel+消费者实现内存内的消息传递

4. 自己写dockerFile+docker-compose,使用alpine镜像编译golang环境，原本想用alpine编译后用scratch运行，后来由于后续有监控需要，需要安装netstat为了方便直接使用了alpine，有docker环境后方便多平台部署

5. 使用了go toolpprof diff 两个相近时间段的内存差异 定位到了map内存泄露问题，由于公司推游戏时间不确定，故使用重建map+定时手动调用runtime.gc解决内存泄露问题，并在docker上加上内存限制

6. 使用golang+docker api 监控服务状态与定时推送连接数与内存使用数，并接入了飞书告警，服务一旦发生panic recover 就推送飞书告警

7. 使用bufio替代反复打开文件句柄带来系统io压力，并加上flush防止夜间流量减低导致日志延迟写入

8. 踢下线，广播单播业务功能与别的系统通过队列与protobuf实现统一调用规范。

9. 通过tcpdump排查到客户端连接上，但是服务端今收到连接，但是没有收到报文。定位到了ucloud网关有问题，经排查是由于网关容器MTU大小限制导致大报文阻塞

**业绩：**

1. 通过docker部署后，已经陆续部署了6个生产环境【子公司】运维成本与压力比较低，并在一次生产事故中【服务器被误操作导致回收】仅用20分钟就完成恢复。

2. 业务直接通过日志上报socket把优惠券触达用户，付费率提升10%



#### 聊天监控项目重构【大蓝】

golang开发                                                                                                                  

1. 基于DFA算法PKG敏感词命中模块
2. 引入新的“特征”取代单纯通过敏感词自动封禁
3. 聚合与抽象研发封禁接口
4. 聚合与抽象研发上报接口
5. 日志的数组，定时+容量，定时刷盘降低系统IO
6. 增加队列重试模块，并增加每次重试间隔
7. 基于goreplay流量重放，实现生产环境旧服务到新服务的不停机平滑迁移与测试环境的测试
8. 使用docker 的limit限制服务器资源防止oom导致服务器崩溃。
9. 使用clickhouse替代mysql，降低后台查阅数据时的时延
10. 人工监控使用websocket连接服务器，页面通过订阅感兴趣的topic，实现聊天实时监控【未完成， 完成60%。 仍然属于beat阶段】

业绩：

1. 后台查询速度从15秒降低到3秒

2. 由于引入新的”特征“概念，完成了封禁的特征抽取自动完善封禁，实现闭环

3. 服务器内存可以使用更低的内存的机器【原机器16G】，在线8G绰绰有余节省资源

4. 由于入库前增加队列与日志还有重试脚本，保证服务器大部分环节的高可用，即使崩溃了，重跑日志或重跑队列即可解决

#### 听芝心理【灵机文化】

php组长

1. 项目基础搭建

2. 中台支付接入  

3. 第三方算法以及自研算法接入  

4. 追踪订单转化情况并上报  

5. elk接入  

6. 大数据埋点接入  

7. 轮询同步改用kafka异步同步订单  

8. 钉钉报警接入  

9. order按照年月日拆分表  

10. elasticsearch订单表查单  

11. 算法使用策略模式，解耦

业绩：

1. 抖音渠道买量推送带来净利润近30w，订单量月度接近200w

2. 改为kafka中间件同步后，由于程序自身异常导致同步失败的问题基本没有

3. 基于python快速推进产品落地

#### 智应小程序SAAS

php组长

1. 商品结算功能重构

2. 异常报错接入钉钉  

3. 数据表逻辑拆分  

4. 通联支付接入(抽象出支付)  

5. nginx无感知发布  

6. 短信服务拆分到异步处理（kafka+docker+swoole）  

7. 分佣拆分异步处理  

8. 平台分佣rpc服务器异步处理  

9. svn+ftp往git+workflow迁移  

10. 配送功能重构  

11. 优化本地开发环境（docker化）  

12. 支付结算改用websocket通知支付完成页面  

13. 拼团超卖问题（幂等性）  

14. 微定制站开发部署及其服务器维护  

15. 订单重做  

16. 财务重构,兼容旧数据  

17. 拼团、秒杀、裂变、优惠券功能重构  

18. 分佣功能业务梳理与重构  

19. 后台查询sql优化与功能重构  

20. 推进技术分享并在分享会中分享（laravel，docker，kafaka 等技术）  
    业绩：  

21. 重构秒杀,原本使用crontab,改为redis队列秒杀,加入超时未支付重放入队列

22. 重构配送,同城配送,对接达达第三方接口,改用策略模式并使用百度地图,控制配送距离  

23. 重构支付功能,解耦支付,能注入更多支付类型,只需要根据不同的业务注入响应的支付类,不用更改其他业务代码  

24. 本地开发环境的mysql,redis读写分离(docker)对其生产环境  

25. 优化商品列表,商品详情sql代码,使语句命中索引,加快读取效率  

26. 使用kafka异步处理用户支付结果  

27. 重构订单,分拆接口,优化订单,加载效率,使用装饰器模式优化代码  

28. 重构订单生成解决并发下超卖问题(幂等性)  

29. 拼团功能重写  

30. 计价功能重写，计价错误bug率从20% 下降到1%（基本都是因为用户不了解算价规则导致）  

31. 会员体系0.1 版本，（会员价，自定义会员价）  

32. 订单财务重写（旧数据兼容）  

33. 拆分，分佣，到微服务，保证用户流程流畅，且不受分佣耗时长的问题所影响，分佣错误后，放回kafka，到达一定量后报警（20条堆积）  

34. gitlab + nginx weight 灰度发布  

35. 在两天下班的培训让团队过度到laravel+docker 开发环境  

36. 由于公司php源代码加密，为其开发docker包，保证开发团队开发环境高度一致，避免由于环境不一致而反复处理bug的问题  

37. 部署予发布环境遵从git workflow 流程，使彼此间上线互不干扰  

38. 重构项目后经过压力测试qps峰值 从 90 qps到 230 qps(由于代码和部分底层源码框架限制，这个已经去到比较极限了)

### 个人优势

1. 从事PHP开发4年，期间GO开发经验1年，具备管理经验1年，带过5个人的小团队，完成50W年度部门KPI，具备项目立项，需求评估，编写文档，开发推进，制定开发编码规范标准，数据库设计标准，部门各岗位考核制度规范等。

2. 深入了解过laravel框架原理和设计思想，并写过laravel私有库的包

3. 做过的项目涉及电商生态（SAAS,分销,活动,支付,多商户等），IM聊天系统，直播。

4. 处理过海量存储2T的系统